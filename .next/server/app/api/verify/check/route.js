"use strict";(()=>{var e={};e.id=315,e.ids=[315],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39491:e=>{e.exports=require("assert")},14300:e=>{e.exports=require("buffer")},6113:e=>{e.exports=require("crypto")},82361:e=>{e.exports=require("events")},57147:e=>{e.exports=require("fs")},13685:e=>{e.exports=require("http")},95687:e=>{e.exports=require("https")},41808:e=>{e.exports=require("net")},22037:e=>{e.exports=require("os")},71017:e=>{e.exports=require("path")},63477:e=>{e.exports=require("querystring")},12781:e=>{e.exports=require("stream")},24404:e=>{e.exports=require("tls")},76224:e=>{e.exports=require("tty")},57310:e=>{e.exports=require("url")},73837:e=>{e.exports=require("util")},59796:e=>{e.exports=require("zlib")},5118:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>g,patchFetch:()=>y,requestAsyncStorage:()=>h,routeModule:()=>f,serverHooks:()=>m,staticGenerationAsyncStorage:()=>q});var s={};t.r(s),t.d(s,{POST:()=>x});var i=t(49303),o=t(88716),a=t(60670),u=t(87070),c=t(5558),n=t.n(c);let p=process.env.TWILIO_ACCOUNT_SID,l=process.env.TWILIO_AUTH_TOKEN,d=process.env.TWILIO_VERIFY_SERVICE_ID;if(!p||!l||!d)throw Error("Missing required Twilio credentials");let v=n()(p,l);async function x(e){try{let{phoneNumber:r,code:t}=await e.json(),s=r;r.startsWith("+")||(s="+"+r),console.log("Checking verification for:",s);let i=await v.verify.v2.services(d).verificationChecks.create({to:s,code:t});return console.log("Verification check status:",i.status),u.NextResponse.json({success:!0,status:i.status,valid:i.valid,message:"Verification completed successfully"})}catch(r){console.error("Detailed error:",r);let e="Failed to verify code";return 60200===r.code?e="Invalid phone number format":60202===r.code?e="Invalid verification code":60203===r.code?e="Max check attempts reached":r.message&&(e=r.message),u.NextResponse.json({success:!1,error:e,details:r.message},{status:400})}}let f=new i.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/verify/check/route",pathname:"/api/verify/check",filename:"route",bundlePath:"app/api/verify/check/route"},resolvedPagePath:"C:\\Users\\fkris\\OneDrive\\Documents\\GitHub\\Apka-mitr\\app\\api\\verify\\check\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:h,staticGenerationAsyncStorage:q,serverHooks:m}=f,g="/api/verify/check/route";function y(){return(0,a.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:q})}}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[948,242],()=>t(5118));module.exports=s})();