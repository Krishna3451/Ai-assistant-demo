(()=>{var e={};e.id=626,e.ids=[626],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9020:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c}),s(94687),s(30781),s(35866);var r=s(23191),n=s(88716),a=s(37922),i=s.n(a),o=s(95231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c=["",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,94687)),"C:\\Users\\fkris\\OneDrive\\Documents\\GitHub\\Apka-mitr\\app\\login\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,30781)),"C:\\Users\\fkris\\OneDrive\\Documents\\GitHub\\Apka-mitr\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\fkris\\OneDrive\\Documents\\GitHub\\Apka-mitr\\app\\login\\page.tsx"],u="/login/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/login/page",pathname:"/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},70249:(e,t,s)=>{Promise.resolve().then(s.bind(s,73844))},42395:(e,t,s)=>{Promise.resolve().then(s.bind(s,56923))},3993:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},73844:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var r=s(10326),n=s(17577),a=s(35047),i=s(56923);function o({onVerificationComplete:e}){let[t,s]=(0,n.useState)(""),[i,o]=(0,n.useState)(""),[l,c]=(0,n.useState)("phone"),[d,u]=(0,n.useState)(""),[m,x]=(0,n.useState)(!1);(0,a.useRouter)();let h=async e=>{e.preventDefault(),u(""),x(!0);try{let e=t;t.startsWith("+")||(e="+"+t);let s=await fetch("/api/verify/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:e})}),r=await s.json();r.success?c("code"):u(r.error||"Failed to send verification code")}catch(e){console.error("Error sending code:",e),u("Network error: Failed to send verification code")}finally{x(!1)}},p=async s=>{s.preventDefault(),u(""),x(!0);try{let s=t;t.startsWith("+")||(s="+"+t);let r=await fetch("/api/verify/check",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phoneNumber:s,code:i})}),n=await r.json();n.success&&n.valid?e():u(n.error||"Invalid verification code")}catch(e){console.error("Error verifying code:",e),u("Network error: Failed to verify code")}finally{x(!1)}};return(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg transform transition-all",children:[(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"phone"===l?"Verify Your Phone":"Enter Verification Code"}),r.jsx("div",{className:"h-1 w-24 bg-blue-600 mx-auto mb-6"}),r.jsx("p",{className:"text-gray-600 text-sm mb-8",children:"phone"===l?"Please enter your phone number to receive a verification code":"Enter the verification code sent to your phone"})]}),d&&r.jsx("div",{className:"mb-6 bg-red-50 border-l-4 border-red-500 p-4 rounded-md",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("svg",{className:"h-5 w-5 text-red-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})}),r.jsx("p",{className:"text-sm text-red-700",children:d})]})}),"phone"===l?(0,r.jsxs)("form",{onSubmit:h,className:"mt-8 space-y-6",children:[r.jsx("div",{className:"rounded-md shadow-sm",children:(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("input",{id:"phone",name:"phone",type:"tel",required:!0,className:"appearance-none rounded-lg relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"+1234567890",value:t,onChange:e=>s(e.target.value),pattern:"^\\+?[1-9]\\d{1,14}$",title:"Please enter a valid phone number with country code (e.g., +1234567890)"}),r.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:r.jsx("span",{className:"text-gray-400",children:"\uD83D\uDCF1"})})]}),r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Include country code (e.g., +1 for US)"})]})}),r.jsx("button",{type:"submit",disabled:m,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-semibold rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:m?(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Send Verification Code"})]}):(0,r.jsxs)("form",{onSubmit:p,className:"mt-8 space-y-6",children:[r.jsx("div",{className:"rounded-md shadow-sm",children:(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("label",{htmlFor:"code",className:"block text-sm font-medium text-gray-700 mb-1",children:"Verification Code"}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("input",{id:"code",name:"code",type:"text",required:!0,className:"appearance-none rounded-lg relative block w-full px-4 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",placeholder:"Enter 6-digit code",value:i,onChange:e=>o(e.target.value),maxLength:6,pattern:"\\d{6}"}),r.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:r.jsx("span",{className:"text-gray-400",children:"\uD83D\uDD12"})})]})]})}),r.jsx("button",{type:"submit",disabled:m,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-semibold rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:m?(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Verifying..."]}):"Verify Code"}),r.jsx("div",{className:"text-center mt-4",children:r.jsx("button",{type:"button",onClick:()=>c("phone"),className:"text-sm text-blue-600 hover:text-blue-500 font-medium transition-colors duration-200",children:"Change phone number"})})]})]})}function l(){let{user:e,error:t,isPhoneVerified:s,signInWithGoogle:n,setPhoneVerified:l}=(0,i.a)();return(0,a.useRouter)(),(0,r.jsxs)("div",{className:"min-h-screen flex",children:[r.jsx("div",{className:"hidden lg:flex lg:flex-1 bg-gradient-to-br from-blue-500 to-blue-700 justify-center items-center p-12",children:(0,r.jsxs)("div",{className:"max-w-md text-white",children:[r.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Welcome to Apka मित्र"}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-500 flex items-center justify-center",children:r.jsx("span",{className:"text-lg",children:"✨"})}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold mb-1",children:"Personal Connection"}),r.jsx("p",{className:"text-blue-100",children:"Experience learning with a friend who understands you"})]})]}),(0,r.jsxs)("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-500 flex items-center justify-center",children:r.jsx("span",{className:"text-lg",children:"\uD83E\uDD1D"})}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold mb-1",children:"Trusted Guide"}),r.jsx("p",{className:"text-blue-100",children:"Learn and grow with a companion who's always there for you"})]})]}),(0,r.jsxs)("div",{className:"flex items-start space-x-4",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-500 flex items-center justify-center",children:r.jsx("span",{className:"text-lg",children:"\uD83C\uDF1F"})}),(0,r.jsxs)("div",{children:[r.jsx("h3",{className:"font-semibold mb-1",children:"Personalized Journey"}),r.jsx("p",{className:"text-blue-100",children:"Tailored guidance that adapts to your unique needs"})]})]})]})]})}),r.jsx("div",{className:"flex-1 flex flex-col justify-center items-center p-8 bg-gray-50",children:r.jsx("div",{className:"w-full max-w-md space-y-8",children:e&&!s?r.jsx(o,{onVerificationComplete:()=>{l(!0)}}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Sign in to your account"}),r.jsx("div",{className:"h-1 w-24 bg-blue-600 mx-auto mb-6"}),r.jsx("p",{className:"text-gray-600 text-sm",children:"Get started with Google authentication"})]}),r.jsx("div",{className:"mt-8",children:(0,r.jsxs)("button",{onClick:()=>n(),className:"w-full flex items-center justify-center px-4 py-3 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200",children:[r.jsx("img",{className:"h-5 w-5 mr-2",src:"https://www.svgrepo.com/show/475656/google-color.svg",alt:"Google Logo"}),"Continue with Google"]})})]})})})]})}},56923:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>d,a:()=>u});var r=s(10326),n=s(17577),a=s(15724);let i=(0,s(42585).ZF)({apiKey:"AIzaSyABFhA56f4Jt4Zt5mWGCfUE-i8t0NG3ZQ0",authDomain:"apka-mitra.firebaseapp.com",projectId:"apka-mitra",storageBucket:"apka-mitra.firebasestorage.app",messagingSenderId:"858727056315",appId:"1:858727056315:web:c803f516b2cd365f8bba9e"}),o=(0,a.v0)(i);var l=s(35047);let c=(0,n.createContext)({user:null,loading:!0,error:null,isPhoneVerified:!1,signInWithGoogle:async()=>{},logout:async()=>{},setPhoneVerified:()=>{}});function d({children:e}){let[t,s]=(0,n.useState)(null),[i,d]=(0,n.useState)(!0),[u,m]=(0,n.useState)(null),[x,h]=(0,n.useState)(!1),p=(0,l.useRouter)(),g=async()=>{try{m(null);let e=new a.hJ;e.setCustomParameters({prompt:"select_account"}),(await (0,a.rh)(o,e)).user&&h(!1)}catch(e){console.error("Error signing in with Google:",e),m(e.message||"Failed to sign in with Google")}},f=async()=>{try{m(null),await (0,a.w7)(o),p.push("/login")}catch(e){console.error("Error signing out:",e),m(e.message||"Failed to sign out")}};return r.jsx(c.Provider,{value:{user:t,loading:i,error:u,isPhoneVerified:x,signInWithGoogle:g,logout:f,setPhoneVerified:e=>{h(e),e&&p.push("/")}},children:e})}let u=()=>(0,n.useContext)(c)},30781:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h,metadata:()=>x});var r=s(19510),n=s(27313),a=s.n(n),i=s(46957),o=s.n(i),l=s(68570);let c=(0,l.createProxy)(String.raw`C:\Users\fkris\OneDrive\Documents\GitHub\Apka-mitr\components\auth\AuthContext.tsx`),{__esModule:d,$$typeof:u}=c;c.default;let m=(0,l.createProxy)(String.raw`C:\Users\fkris\OneDrive\Documents\GitHub\Apka-mitr\components\auth\AuthContext.tsx#AuthProvider`);(0,l.createProxy)(String.raw`C:\Users\fkris\OneDrive\Documents\GitHub\Apka-mitr\components\auth\AuthContext.tsx#useAuth`),s(32136);let x={title:"AI Assistant",description:"An AI vision Assistant app using Next.js"};function h({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:`${a().variable} ${o().variable}`,children:r.jsx(m,{children:e})})})}},94687:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>a,default:()=>o});var r=s(68570);let n=(0,r.createProxy)(String.raw`C:\Users\fkris\OneDrive\Documents\GitHub\Apka-mitr\app\login\page.tsx`),{__esModule:a,$$typeof:i}=n;n.default;let o=(0,r.createProxy)(String.raw`C:\Users\fkris\OneDrive\Documents\GitHub\Apka-mitr\app\login\page.tsx#default`)},32136:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,953],()=>s(9020));module.exports=r})();